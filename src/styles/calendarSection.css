.calendar-section {
  background: var(--card-bg);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: var(--shadow);
  border: 1px solid var(--border-color);
  color: var(--text-main);
  transition: all 0.3s ease;
}

.calendar-section h3 {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text-main);
  margin-bottom: 0.4rem;
  text-align: center;
  letter-spacing: 0.2px;
}

/* Heatmap container */
.calendar-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0.2rem 0 0.4rem;
  transform: scale(0.85);
}

/* Smaller rounded cells */
.react-calendar-heatmap rect {
  width: 6px;
  height: 6px;
  rx: 2;
  ry: 2;
}

/* Green gradient palette (GitHub-like, dynamic with theme vars) */
.react-calendar-heatmap .color-empty {
  fill: var(--border-color);
  opacity: 0.5;
  transition: fill 0.3s ease, opacity 0.3s ease;
}

body.dark-mode .react-calendar-heatmap .color-empty {
  fill: #334155;
  opacity: 0.7;
}

.react-calendar-heatmap .color-scale-1 {
  fill: var(--heatmap-1);
}
.react-calendar-heatmap .color-scale-2 {
  fill: var(--heatmap-2);
}
.react-calendar-heatmap .color-scale-3 {
  fill: var(--heatmap-3);
}
.react-calendar-heatmap .color-scale-4 {
  fill: var(--heatmap-4);
}

/* Weekday labels */
.react-calendar-heatmap text {
  font-size: 6px;
  fill: var(--text-sub);
  font-weight: 500;
}

/* Legend below calendar */
.calendar-legend {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 0.3rem;
  gap: 0.25rem;
}

.legend-box {
  width: 10px;
  height: 6px;
  border-radius: 2px;
}

.color-scale-1.legend-box {
  background: #bbf7d0;
}
.color-scale-2.legend-box {
  background: #86efac;
}
.color-scale-3.legend-box {
  background: #4ade80;
}
.color-scale-4.legend-box {
  background: #22c55e;
}

.calendar-legend span {
  font-size: 0.65rem;
  color: var(--text-sub);
  letter-spacing: 0.3px;
}

.react-calendar-heatmap rect {
  pointer-events: none;
  cursor: default;
}

/* ðŸ“± Responsive Only */
@media (max-width: 992px) {
  .calendar-section {
    padding: 1.2rem;
  }

  .calendar-section h3 {
    font-size: 0.75rem;
  }

  .calendar-wrapper {
    transform: scale(0.8);
  }
}

@media (max-width: 768px) {
  .calendar-section {
    padding: 1rem;
  }

  .calendar-section h3 {
    font-size: 0.72rem;
  }

  .calendar-wrapper {
    transform: scale(0.75);
  }

  .calendar-legend {
    gap: 0.2rem;
    flex-wrap: wrap;
  }

  .legend-box {
    width: 8px;
    height: 5px;
  }

  .calendar-legend span {
    font-size: 0.6rem;
  }
}

@media (max-width: 480px) {
  .calendar-section {
    padding: 0.8rem;
  }

  .calendar-section h3 {
    font-size: 0.7rem;
  }

  .calendar-wrapper {
    transform: scale(0.7);
  }

  .legend-box {
    width: 7px;
    height: 4px;
  }

  .calendar-legend span {
    font-size: 0.55rem;
  }
}

/* âœ… Better scaling & padding fix */
.calendar-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0.8rem 0;
  transform: scale(0.9);
}

.react-calendar-heatmap text {
  font-size: 7px;
  fill: var(--text-sub);
  font-weight: 500;
}
/* ===== Calendar alignment fixes (add at end of calendarSection.css) ===== */

/* Make the heatmap SVG behave like a normal inline block so labels line up */
.react-calendar-heatmap {
  display: inline-block;
  vertical-align: top;
  overflow: visible; /* ensure month label / tooltips don't get clipped */
}

/* Align the whole calendar to the left inside the widget so weekday labels match rows */
.calendar-wrapper {
  display: flex;
  justify-content: flex-start; /* left aligned instead of center */
  align-items: center;
  padding: 0.6rem 0; /* slightly more top/bottom spacing for month label */
  transform: scale(0.9); /* slight scale if desired; adjust 0.9 â†’ 1.0 if you prefer */
}

/* Make the month label left-aligned and visually consistent */
.react-calendar-heatmap .month-label {
  font-size: 14px;
  fill: var(--text-main);
  font-weight: 600;
  text-anchor: start; /* anchor to the left */
}

/* Slightly larger, more even squares so grid looks tidy on your dark UI */
.react-calendar-heatmap rect {
  width: 8px;
  height: 8px;
  rx: 3; /* more rounded */
  ry: 3;
}

/* Improve weekday label appearance and alignment */
.react-calendar-heatmap text {
  font-size: 10px; /* slightly bigger for readability */
  fill: var(--text-sub);
  font-weight: 600;
  dominant-baseline: middle; /* vertical centering */
}

/* Reduce the built-in horizontal spacing between columns so grid is compact */
.react-calendar-heatmap .week {
  transform-origin: 0 0;
  /* optional tweak: compress horizontal gap a bit */
  /* Uncomment to shrink gap: transform: translateX(-2px); */
}

/* Tooltip z-index safety */
.react-calendar-heatmap + .react-tooltip {
  z-index: 2000;
}
/* ===== Fix weekday labels alignment and size ===== */
.react-calendar-heatmap text {
  font-size: 8px !important; /* smaller, more proportional */
  fill: var(--text-sub);
  font-weight: 500;
  dominant-baseline: middle;
}

.react-calendar-heatmap .weekday-label {
  transform: translateY(2px); /* subtle vertical correction */
}

/* Remove extra month label offset */
.react-calendar-heatmap .month-label {
  font-size: 10px !important;
  fill: var(--text-sub);
  font-weight: 600;
  text-anchor: middle;
}

/* Proper box scaling for neat spacing */
.react-calendar-heatmap rect {
  width: 8px !important;
  height: 8px !important;
  rx: 2;
  ry: 2;
}
